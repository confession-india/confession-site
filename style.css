/* Confess India - Unified Design System */

/* 1. Custom Animations */
@keyframes pulse-green {
    0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
    70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
    100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
}

@keyframes pulse-red {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-8px); }
    75% { transform: translateX(8px); }
}

/* 2. Utility Classes */
.animate-pulse-green { animation: pulse-green 2s infinite; }

.limit-reached { 
    color: #ef4444 !important; 
    font-weight: 900; 
    animation: pulse-red 0.5s infinite; 
}

.shake-active { 
    animation: shake 0.4s ease-in-out; 
    border-color: #ef4444 !important; 
    background-color: #fef2f2 !important; 
}

/* 3. Form & Interaction Styles */
.input-focus-effect {
    transition: all 0.2s ease;
}

.input-focus-effect:focus { 
    border-color: #6366f1; 
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1); 
    background-color: white;
}

.preview-card { 
    transition: all 0.4s ease; 
    border-radius: 32px; 
    border: 2px dashed #e2e8f0; 
    background: white;
}

/* 4. Notification Components (Toast) */
#toast { 
    position: fixed; 
    bottom: 40px; 
    left: 50%; 
    transform: translateX(-50%) translateY(100px); 
    opacity: 0; 
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    z-index: 9999; 
}

#toast.show { 
    transform: translateX(-50%) translateY(0); 
    opacity: 1; 
}

/* 5. Custom Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #fdfdff; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; border: 2px solid #fdfdff; }
::-webkit-scrollbar-thumb:hover { background: #6366f1; }

/* 6. Share Modal System */
#shareModal {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(12px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    padding: 20px;
}
#shareModal.show { display: flex; }

/* 7. Navigation & Structural */
.cat-active, .lang-active {
    background: #4f46e5 !important;
    color: white !important;
    border-color: #4f46e5 !important;
}

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
}

/* 8. AUTOMATIC DARK MODE OVERRIDES */
@media (prefers-color-scheme: dark) {
    body {
        background-color: #0f172a !important; /* Dark Navy Background */
        color: #f1f5f9 !important; /* Light Text */
    }

    header {
        background-color: rgba(15, 23, 42, 0.8) !important;
        border-color: #1e293b !important;
    }

    /* Cards and Form Inputs */
    .bg-white, #previewContainer, #postForm, .preview-card {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border-color: #334155 !important;
    }

    /* Text adjustments */
    .text-slate-600, .text-slate-700, p#p-msg {
        color: #cbd5e1 !important;
    }

    .text-slate-400, .text-slate-500 {
        color: #94a3b8 !important;
    }

    /* Input fields */
    input, textarea, select, .bg-slate-50 {
        background-color: #0f172a !important;
        color: white !important;
        border-color: #334155 !important;
    }

    /* Shake effect in dark mode */
    .shake-active {
        background-color: #450a0a !important; /* Dark Red background */
        border-color: #ef4444 !important;
    }

    /* Scrollbar in dark mode */
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border: 2px solid #0f172a; }
}
